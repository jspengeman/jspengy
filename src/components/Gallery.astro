---
import { Image } from "@unpic/astro";
import { getAllImages, getImageOperations } from "../utils/gallery";

const images = await getAllImages();
---

<div class="my-2 mb-8" transition:animate="fade">
    <div
        class="grid sm:columns-1 md:columns-2 lg:grid-cols-3 xl:grid-cols-3 gap-4"
    >
        {
            images.map((image) => (
                <div>
                    <a
                        href={`/gallery/${image.fileName}`}
                        data-astro-prefetch="hover"
                    >
                        <Image
                            src={image.src}
                            alt="Sorry, I will work on getting alt text implemented. One step at a time."
                            class="h-auto max-w-full rounded-sm"
                            decoding="sync"
                            loading="eager"
                            placeholder="blurhash"
                            priority={true}
                            operations={getImageOperations(1)}
                        />
                    </a>
                </div>
            ))
        }
    </div>
</div>
